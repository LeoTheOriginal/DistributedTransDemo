<UserControl x:Class="TransDemo.UI.Views.HistoryView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:TransDemo.UI.Converters"
             Height="Auto" Width="Auto">
    <UserControl.Resources>
        <conv:BranchIdToNameConverter x:Key="BranchIdToNameConverter"/>
    </UserControl.Resources>
    <StackPanel Margin="10">
        <TextBlock Text="Historia Transakcji" 
                   FontSize="24" 
                   FontWeight="Bold" 
                   Margin="0,0,0,10"
                   HorizontalAlignment="Center"/>

        <ComboBox SelectedItem="{Binding SelectedBranch}" Margin="0,0,0,10" Width="200">
            <ComboBox.ItemsSource>
                <x:Array Type="{x:Type sys:Int32}" xmlns:sys="clr-namespace:System;assembly=mscorlib">
                    <sys:Int32>0</sys:Int32>
                    <sys:Int32>1</sys:Int32>
                    <sys:Int32>2</sys:Int32>
                </x:Array>
            </ComboBox.ItemsSource>
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding Converter={StaticResource BranchIdToNameConverter}}"/>
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>


        <DataGrid ItemsSource="{Binding Entries}" 
                  AutoGenerateColumns="False" 
                  IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding HistoryId}" Width="Auto"/>
                <DataGridTextColumn Header="Info" Binding="{Binding Info}" Width="*"/>
                <DataGridTextColumn Header="Created At" Binding="{Binding CreatedAt}" Width="200"/>
            </DataGrid.Columns>
        </DataGrid>
    </StackPanel>
</UserControl>
